<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Get Profile Data surrounding specified ranges — getProfileData • extraChIPs</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/simplex/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Get Profile Data surrounding specified ranges — getProfileData"><meta property="og:description" content="Get coverage Profile Data surrounding specified ranges"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">extraChIPs</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.5.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Vignettes
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/range_based_functions.html">Range-based Operations</a>
    </li>
    <li>
      <a href="../articles/differential_signal_sliding.html">Differential Signal Using Sliding Windows</a>
    </li>
    <li>
      <a href="../articles/differential_signal_fixed.html">Differential Signal Using Fixed-Width Windows</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/smped/extraChIPs" class="external-link">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Get Profile Data surrounding specified ranges</h1>
    <small class="dont-index">Source: <a href="https://github.com/smped/extraChIPs/blob/HEAD/R/AllGenerics.R" class="external-link"><code>R/AllGenerics.R</code></a>, <a href="https://github.com/smped/extraChIPs/blob/HEAD/R/getProfileData.R" class="external-link"><code>R/getProfileData.R</code></a></small>
    <div class="hidden name"><code>getProfileData-methods.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Get coverage Profile Data surrounding specified ranges</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">getProfileData</span><span class="op">(</span><span class="va">x</span>, <span class="va">gr</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for BigWigFile,GenomicRanges</span></span>
<span><span class="fu">getProfileData</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  <span class="va">gr</span>,</span>
<span>  upstream <span class="op">=</span> <span class="fl">2500</span>,</span>
<span>  downstream <span class="op">=</span> <span class="va">upstream</span>,</span>
<span>  bins <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  mean_mode <span class="op">=</span> <span class="st">"w0"</span>,</span>
<span>  log <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  offset <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for BigWigFileList,GenomicRanges</span></span>
<span><span class="fu">getProfileData</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  <span class="va">gr</span>,</span>
<span>  upstream <span class="op">=</span> <span class="fl">2500</span>,</span>
<span>  downstream <span class="op">=</span> <span class="va">upstream</span>,</span>
<span>  bins <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  mean_mode <span class="op">=</span> <span class="st">"w0"</span>,</span>
<span>  log <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  offset <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  BPPARAM <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/BiocParallel/man/SerialParam-class.html" class="external-link">SerialParam</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for character,GenomicRanges</span></span>
<span><span class="fu">getProfileData</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  <span class="va">gr</span>,</span>
<span>  upstream <span class="op">=</span> <span class="fl">2500</span>,</span>
<span>  downstream <span class="op">=</span> <span class="va">upstream</span>,</span>
<span>  bins <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  mean_mode <span class="op">=</span> <span class="st">"w0"</span>,</span>
<span>  log <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  offset <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>x</dt>
<dd><p>A BigWigFile or BigWiFileList</p></dd>


<dt>gr</dt>
<dd><p>A GRanges object</p></dd>


<dt>...</dt>
<dd><p>Passed to <a href="https://rdrr.io/pkg/EnrichedHeatmap/man/normalizeToMatrix.html" class="external-link">normalizeToMatrix</a></p></dd>


<dt>upstream</dt>
<dd><p>The distance to extend upstream from the centre of each
range within <code>gr</code></p></dd>


<dt>downstream</dt>
<dd><p>The distance to extend downstream from the centre of each
range within <code>gr</code></p></dd>


<dt>bins</dt>
<dd><p>The total number of bins to break the extended ranges into</p></dd>


<dt>mean_mode</dt>
<dd><p>The method used for calculating the score for each bin.
See <a href="https://rdrr.io/pkg/EnrichedHeatmap/man/normalizeToMatrix.html" class="external-link">normalizeToMatrix</a> for details</p></dd>


<dt>log</dt>
<dd><p>logical(1) Should the returned values be log2-transformed</p></dd>


<dt>offset</dt>
<dd><p>Value added to data if log-transforming. Ignored otherwise</p></dd>


<dt>BPPARAM</dt>
<dd><p>Passed internally to <a href="https://rdrr.io/pkg/BiocParallel/man/bplapply.html" class="external-link">bplapply</a></p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>GRanges or GrangesList with column profile_data, as described above</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>This will take all provided ranges and set as identical width ranges,
extending by the specified amount both up and downstream of the centre of the
provided ranges. By default, the ranges extensions are symmetrical and only
the upstream range needs to be specified, however this parameterisation
allows for non-symmetrical ranges to be generated.</p>
<p>These uniform width ranges will then be used to extract the value contained
in the score field from one or more BigWigFiles. Uniform width ranges are
then broken into bins of equal width and the average score found within each
bin.</p>
<p>The binned profiles are returned as a DataFrameList called <code>profile_data</code> as
a column within the resized GRanges object.
Column names in each DataFrame are <code>score</code>, <code>position</code> and <code>bp</code>.</p>
<p>If passing a BigWigFileList, profiles will be obtained in series by
default. To run in parallel pass a <a href="https://rdrr.io/pkg/BiocParallel/man/MulticoreParam-class.html" class="external-link">MulticoreParam</a> object
to the <code>BPPARAM</code> argument.</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">bw</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"tests"</span>, <span class="st">"test.bw"</span>, package <span class="op">=</span> <span class="st">"rtracklayer"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">gr</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/GenomicRanges/man/GRanges-class.html" class="external-link">GRanges</a></span><span class="op">(</span><span class="st">"chr2:1000"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">pd</span> <span class="op">&lt;-</span> <span class="fu">getProfileData</span><span class="op">(</span><span class="va">bw</span>, <span class="va">gr</span>, upstream <span class="op">=</span> <span class="fl">500</span>, bins <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">pd</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> GRanges object with 1 range and 1 metadata column:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       seqnames    ranges strand |                              profile_data</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          &lt;Rle&gt; &lt;IRanges&gt;  &lt;Rle&gt; |                      &lt;SplitDataFrameList&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   [1]     chr2  500-1499      * | -2.00:u1:-450,-1.02:u2:-350,-1.00:u3:-250</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   -------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   seqinfo: 1 sequence from an unspecified genome; no seqlengths</span>
<span class="r-in"><span><span class="va">pd</span><span class="op">$</span><span class="va">profile_data</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> SplitDataFrameList of length 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[1]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> DataFrame with 10 rows and 3 columns</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          score position        bp</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      &lt;numeric&gt; &lt;factor&gt; &lt;numeric&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  -2.00000000       u1      -450</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  -1.02000000       u2      -350</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3  -1.00000000       u3      -250</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4  -1.00000000       u4      -150</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5  -0.42673675       u5       -50</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6  -0.41503750       d1        50</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7  -0.41503750       d2       150</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8  -0.00830075       d3       250</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9   0.00000000       d4       350</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10  0.00000000       d5       450</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Stephen Pederson.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.9000.</p>
</div>

      </footer></div>

  


  

  </body></html>

